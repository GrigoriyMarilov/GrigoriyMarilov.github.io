import{d as p,u as B,f as g,g as h,h as $,U as D,_ as m,r as t,o as _,c as f,w as a,e as E,a as e,b as d}from"./index-B0hQSJLk.js";import{f as x}from"./handleError-4JPBGK95.js";import{C as b}from"./CenteringLayout-DAWGsky2.js";const v=p({props:{formId:{type:String,required:!0}},setup(s){const r=B(),c=g(),n=h.useToast(),o=$(s.formId);return{handleClick:async()=>{if(o)try{const u=await D.signup(o.value);if(!u)return;r.setUser(u.data),await c.push("/"),n.success("Успешная регистрация")}catch(u){x(u,n,o)}}}}});function y(s,r,c,n,o,i){const u=t("el-button");return _(),f(u,{type:"primary",color:"black",onClick:s.handleClick},{default:a(()=>[E(" Зарегестрироваться ")]),_:1},8,["onClick"])}const k=m(v,[["render",y]]),q=p({components:{SignupButton:k},setup(){}}),w=d("h1",{class:"text-2xl font-bold mb-2"},"Регистрация",-1),A={class:"double"},L={class:"flex flex-col items-center gap-4"};function S(s,r,c,n,o,i){const u=t("FormKit"),l=t("RouterLink"),F=t("signup-button"),C=t("el-card");return _(),f(C,{class:"w-80"},{default:a(()=>[e(u,{type:"form",id:"singup",actions:!1},{default:a(()=>[w,e(u,{type:"text",name:"name",label:"Ваше имя",placeholder:"Григорий Марилов",validation:"required","validation-messages":{required:"Обязательно поле"}}),e(u,{type:"text",name:"email",label:"Ваша почта",placeholder:"jane@example.com",validation:"required|email","validation-messages":{required:"Обязательно поле",email:"Пожалуйста укажите действительную электронную почту"}}),d("div",A,[e(u,{type:"password",name:"password",label:"Пароль",validation:"required|length:6|matches:/[^a-zA-Z]/","validation-messages":{required:"Обязательно поле",length:"Попробуй сделать пароль длиннее",matches:"Нужны буквы и цифры"},placeholder:"Пароль",help:"Придумайте пароль"}),e(u,{type:"password",name:"password_confirm",label:"Подтверждение пароля",placeholder:"Пароль",validation:"required|confirm","validation-messages":{required:"Обязательно поле",confirm:"не совпадает"},help:"Подтвердите пароль"})]),d("div",L,[e(l,{to:"signin"},{default:a(()=>[E("Уже есть аккаунт?")]),_:1}),e(F,{"form-id":"singup"})])]),_:1})]),_:1})}const N=m(q,[["render",S]]),U=p({components:{CenteringLayout:b,Widget:N},setup(){return{}}});function R(s,r,c,n,o,i){const u=t("Widget"),l=t("CenteringLayout");return _(),f(l,null,{default:a(()=>[e(u)]),_:1})}const K=m(U,[["render",R]]);export{K as default};
